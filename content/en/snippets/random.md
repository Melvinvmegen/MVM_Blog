---
id: 1
title: "Random"
description: "Generate a random number in a range. We all wish Math.random worked like this."
category: "Javascript"
last_updated: "September 6th, 2022"
---

```js
const random = (min, max) => Math.floor(Math.random() * (max - min)) + min
```
## Context
In JavaScript, we can generate random numbers using the function [Math.random](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random). Unfortunately, this function only generates floating-point numbers between 0 and 1.

In practice, it is much more common to need a random integer within a given range. For example, a random number between 1 and 10.

This snippet allows us to do just that!

> Note:**
> This **random** function includes the first parameter in the draw but excludes the second. For example, random(1, 3) will fall on 1 or 2, but never on 3.

This was done intentionally to match the behavior of [Math.random](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random), as well as methods like [slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice).

## Usage

```js
// Get a random number between 1 and 100
random(1, 101);
// Gets a random number between -100 and 99
random(-100, 100);
```

## Explanation

This function relies on a float between 0..1 generated by Math.random at an interval you specify. If you haven't seen this practice before, it may seem surprising!

Let's say we want to get a random number between 0 and 5. Since Math.random gives us a random floating number between 0 and 1, we simply multiply the result by 5 and round it down to get the integer :

```js
const max = 5;
// Gets a random value between 0 and 0.999999
const random_float = Math.random();
// Multiply it by our max, here 5.
// Gets a float between 0 and 4.999999
const multiplied = random_float * max;
// Round it up using Math.floor.
// Gets 0, 1, 2, 3 or 4.
const random_number = Math.floor(multiplied);
```

How do you get a minimum that is not 0? Or a number between 1 and 5?

The trick is to get the delta. Here 5 - 1 is equal to 4, so we get a random value between 0 and 3.99999. We can then increase it by our minimum value, to put it in the right range:

```js
const min = 1;
const max = 5;
// Calculate the delta
const delta = max - min;
// Get a random value between 0 and 0.999999
const random_float = Math.random();
// Multiply it by our delta, 4
// Will be between 0 and 3.999999
const multiplied = random_float * delta;
// Round it up using Math.floor
// This will give us 0, 1, 2 or 3.
const random_number = Math.floor(multiplied);
// A random number to which we add the min
// We will finally get 1, 2, 3 or 4.
const final = random_number + min;
```

## Conclusion

The final snippet in a compact expression :

```js
const random = (min, max) => Math.floor(Math.random() * (max - min)) + min;
```
