---
id: 6
title: "Diviser une liste d'√©l√©ments en groupes plus petits de taille donn√©e."
description: "Similaire √† la m√©thode _chunck de Lodash mais avec seulement du Javascript natif !"
category: "Javascript"
last_updated: "13 Novembre, 2022"
---

```js
const toChunks = (array, size) => {
  return array.reduce((arr, item, idx) => {
    return idx % size === 0
      ? [...arr, [item]]
      : [...arr.slice(0, -1), [...arr.slice(-1)[0], item]];
  }, []);
};
```

## Contexte

En tant que d√©veloppeur JavaScript, vous pouvez avoir besoin de diviser un array en array plus petits d'une taille donn√©e et bien que vous soyez habitu√© √† utiliser la fonction **\_.chunk(data, size)** de Lodash, vous pouvez √©galement le faire assez facilement en utilisant  uniquement du JavaScript natif. La fonction **toChunks** ici est le snippet parfait pour cette t√¢che. Voyons comment cela fonctionne :

## D√©mystifier la fonction "toChunks"

Nous pouvons diviser la fonction **toChunks** en trois parties :
- La fonction toChunks prend deux arguments : **array** et **size** qui comme leur nom l'indique prennent un array et la taille de chaque **chunk** (ou array) souhait√©.
- L'array fourni est parcouru par la m√©thode [reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce) qui prend deux arguments : un callback et une valeur initiale pour l'**accumulateur**, ici un array vide [].
- Le callback prend trois arguments : l'**accumulateur** (arr), **l'√©l√©ment courant** dans l'array (item) et son **index** (idx).

## Comment cela fonctionne-t-il r√©ellement ?

1. Le callback s'ex√©cutant sur chaque √©l√©ment v√©rifiera **si l'index actuel est divisible par l'argument size** en utilisant l'op√©rateur de reste [%](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder).
2. 
  - Si c'est le cas, nous cr√©erons un nouveau groupe ou array avec l'√©l√©ment actuel avant de l'ajouter √† l'**accumulateur** en utilisant la syntaxe de d√©composition [...](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax).
  - Sinon, cela signifie que nous devons **ajouter l'√©l√©ment actuel au dernier groupe de l'accumulateur**. Pour ce faire, la m√©thode [slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) est utilis√©e pour extraire le dernier √©l√©ment de l'accumulateur (qui dans notre cas repr√©sente un groupe ou array) avant d'ajouter l'√©l√©ment actuel avec la syntaxe de d√©composition [...](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax). Ensuite, nous rempla√ßons le dernier √©l√©ment de l'accumulateur par le groupe mis √† jour en utilisant √† nouveau la m√©thode [slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice).

3. Enfin, la m√©thode [reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce) renvoie l'accumulateur, qui est maintenant un array de plus petits arrays avec les valeurs de l'array d'origine.

Et la magie s'op√®re üéâ

```js
toChunks([1, 2, 3, 4], 2); // [[1, 2], [3, 4]]
```

## Conclusion

La fonction toChunks est le snippet parfait pour diviser un array en arrays plus petits d'une taille donn√©e. En utilisant correctement les pouvoirs de [reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce), [slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice) et la syntaxe de d√©composition [spread operator](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax), nous pouvons facilement cr√©er une telle fonction en utilisant uniquement du JavaScript natif et sans besoin de **Lodash**.
